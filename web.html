<!DOCTYPE html>
<html>
<head>
    <title>Recipe Finder</title>
    <style>
        .container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        .column {
            width: 45%;
        }
        .recipe-list {
            list-style-type: none;
            padding: 0;
        }
        .recipe-list-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .recipe-list-item img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }
        .grocery-list {
            list-style-type: none;
            padding: 0;
        }
        .grocery-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .grocery-list-item input {
            width: 50px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="column">
            <h2>Ingredients</h2>
            <div>
                <label for="ingredientInput">Ingredient:</label>
                <input type="text" id="ingredientInput">
                <label for="quantityInput">Quantity:</label>
                <input type="number" id="quantityInput">
                <button onclick="addToGroceryList()">Add</button>
            </div>
            <button onclick="findRecipes()">Submit</button>
        </div>
        <div class="column">
            <h2>Grocery List</h2>
            <ul id="groceryList" class="grocery-list"></ul>
        </div>
    </div>
    <h2>Recipes</h2>
    <ul id="recipeList" class="recipe-list"></ul>

    <script>
        var groceryList = [];

        function addToGroceryList() {
            var ingredientInput = document.getElementById("ingredientInput").value;
            var quantityInput = document.getElementById("quantityInput").value;
            
            var groceryItem = {
                ingredient: ingredientInput,
                quantity: quantityInput
            };

            groceryList.push(groceryItem);

            updateGroceryList();
            clearInputs();
        }

        function updateGroceryList() {
            var groceryListElement = document.getElementById("groceryList");
            groceryListElement.innerHTML = "";

            for (var i = 0; i < groceryList.length; i++) {
                var groceryItem = groceryList[i];
                var groceryListItem = document.createElement("li");
                groceryListItem.className = "grocery-list-item";

                var itemText = document.createElement("span");
                itemText.textContent = groceryItem.ingredient + " - " + groceryItem.quantity;

                var quantityInput = document.createElement("input");
                quantityInput.type = "number";
                quantityInput.value = groceryItem.quantity;
                quantityInput.oninput = function (event) {
                    var updatedQuantity = event.target.value;
                    var index = Array.from(groceryListItem.parentNode.children).indexOf(groceryListItem);
                    groceryList[index].quantity = updatedQuantity;
                };

                var deleteButton = document.createElement("button");
                deleteButton.textContent = "Delete";
                deleteButton.onclick = function () {
                    var index = Array.from(groceryListItem.parentNode.children).indexOf(groceryListItem);
                    groceryList.splice(index, 1);
                    updateGroceryList();
                };

                groceryListItem.appendChild(itemText);
                groceryListItem.appendChild(quantityInput);
                groceryListItem.appendChild(deleteButton);

                groceryListElement.appendChild(groceryListItem);
            }
        }

        function clearInputs() {
            document.getElementById("ingredientInput").value = "";
            document.getElementById("quantityInput").value = "";
        }

        function findRecipes() {
            var ingredients = [];
            for (var i = 0; i < groceryList.length; i++) {
                ingredients.push(groceryList[i].ingredient);
            }
            var encodedIngredients = encodeURIComponent(ingredients.join(","));

            // Make the API request with the encodedIngredients using Ajax or Fetch API
            // Replace the following example code with your actual API request implementation
            var apiUrl = "https://api.edamam.com/search?q=" + encodedIngredients + "&app_id=12f29b73&app_key=fd2e4bfe519b5dc1eeb1ae301cbfae68";
            
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => displayRecipes(data.hits))
                .catch(error => console.error(error));
        }

        function displayRecipes(recipes) {
            var recipeListElement = document.getElementById("recipeList");
            recipeListElement.innerHTML = "";

            for (var i = 0; i < recipes.length; i++) {
                var recipe = recipes[i].recipe;
                var recipeListItem = document.createElement("li");
                recipeListItem.className = "recipe-list-item";

                var recipeImage = document.createElement("img");
                recipeImage.src = recipe.image;

                var recipeLink = document.createElement("a");
                recipeLink.href = recipe.url;
                recipeLink.textContent = recipe.label;

                recipeListItem.appendChild(recipeImage);
                recipeListItem.appendChild(recipeLink);

                recipeListElement.appendChild(recipeListItem);
            }
        }
    </script>
</body>
</html>
